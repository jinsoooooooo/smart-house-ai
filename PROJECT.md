여기는 프로젝트, APP 서비스에 대한 구성과 요구사항을 정리한 문서입니다. 

### 1. (선행작업) Stitch 입력 구성을 위한 프롬프트 
```
[Stitch 입력용 최종 프롬프트 (밝은 채도 적용)]

"부동산 AI 에이전트 서비스의 종합 UI를 만들어줘. 화면 좌측에는 네비게이션 사이드바(모바일은 하단 탭)가 있고, 우측 메인 영역에는 선택한 메뉴에 따라 화면이 전환되는 App Shell 구조야. 각 화면의 상세 UX와 기능은 다음과 같이 구체적으로 구현해 줘.

1. 사이드바 메뉴 (Navigation):

'법률 챗봇', '등기부등본 진단', '특약 자동완성', '뉴스 큐레이션' 4가지 탭으로 구성해 줘.

2. 법률 챗봇 화면 (현재 활성화된 메인 화면):

UX 흐름: 사용자가 부동산 법, 조례, 지역 기반 질문을 하면 AI가 답변하는 실시간 챗봇 인터페이스야.

UI 디테일: 중앙은 스크롤 가능한 대화창이야. 사용자의 질문은 우측 파란색 말풍선으로, AI의 답변은 좌측 회색 말풍선으로 배치해 줘. AI 답변 하단에는 '관련 법령 링크'를 클릭할 수 있는 작은 버튼을 넣어줘.

입력부: 하단 텍스트 입력창은 긴 질문을 쓸 수 있게 높이가 자동으로 늘어나야 해. 입력창 좌측에는 문서 업로드를 위한 '클립(첨부파일)' 아이콘을, 위쪽에는 '최우선 변제권 확인', '확정일자 받는 법' 같은 빠른 질문(Quick Reply) 칩들을 가로 스크롤로 나열해 줘.

3. 등기부등본 위험성 판단 화면:

UX 흐름: 사용자가 PDF 등기부등본을 업로드하면, 내부적으로 OCR을 거쳐 전세/월세/매매/경매 목적별 위험성을 분석해 주는 대시보드 화면이야.

UI 디테일: 상단에 커다란 점선 박스로 된 'PDF 문서 드래그 앤 드롭(Dropzone)' 영역을 만들어 줘. 파일이 업로드된 후를 가정한 '결과 화면'도 구현해 줘. 결과 영역에는 '위험/주의/안전' 상태를 나타내는 신호등 색상의 뱃지(Badge) 컴포넌트가 있고, 그 아래에 근저당권 설정 금액 등 주요 위험 요소를 시각화한 요약 카드를 배치해 줘.

4. 계약서 자동 완성 (특약 템플릿) 화면:

UX 흐름: 사용자가 매물 유형과 요구사항을 선택하면, 현재 조건에 맞는 특약 문구가 실시간으로 조합되어 완성되는 화면이야.

UI 디테일: 화면을 좌우(또는 상하) 2단으로 분할해 줘. 좌측은 매물 조건(전세/월세, 반려동물 유무, 누수 수리 책임 등)을 선택할 수 있는 체크박스와 드롭다운 '입력 폼(Form)' 영역이야. 우측은 선택된 조건에 따라 작성된 '특약 사항 미리보기(Preview)' 문서 영역이며, 하단에 '복사하기' 및 '템플릿 저장' 버튼을 둬서 바로 실무에 쓸 수 있게 해 줘.

5. 부동산 뉴스 큐레이션 화면:

UX 흐름: 사용자가 원하는 지역, 조건, 시간을 설정하면 해당 조건에 맞는 알림 메시지와 뉴스 피드를 제공하는 화면이야.

UI 디테일: 최상단에 '관심 지역 설정(예: 강남구)' 및 '알림 수신 시간'을 고르는 필터 바를 배치해 줘. 그 아래에는 수집된 부동산 뉴스의 제목, 3줄 요약, 출처, 등록 시간이 포함된 깔끔한 '뉴스 카드'들이 피드 형태로 세로로 나열되게 만들어 줘.

전체 스타일: 트렌디하고 활기찬 느낌을 주면서도 신뢰감을 잃지 않는 **밝고 채도가 높은 코발트 블루(#2563EB) 또는 일렉트릭 블루(#0EA5E9)**를 메인 포인트 컬러로 사용해 줘. 활성화된 버튼이나 중요한 뱃지는 눈에 확 띄게 처리하고, 배경은 깔끔한 화이트와 아주 연한 쿨그레이(#F8FAFC)를 섞어 모던하게 디자인해 줘."
```

### 2. Stitch 결과물 
### 2.1 서비스 화면 구성에 대한 설명

- 사이드바 메뉴 (Navigation):
'법률 챗봇', '등기부등본 진단', '특약 자동완성', '뉴스 큐레이션' 4가지 탭으로 구성해 줘.

- 법률 챗봇 화면 (현재 활성화된 메인 화면):
UX 흐름: 사용자가 부동산 법, 조례, 지역 기반 질문을 하면 AI가 답변하는 실시간 챗봇 인터페이스야.

UI 디테일: 중앙은 스크롤 가능한 대화창이야. 사용자의 질문은 우측 파란색 말풍선으로, AI의 답변은 좌측 회색 말풍선으로 배치해 줘. AI 답변 하단에는 '관련 법령 링크'를 클릭할 수 있는 작은 버튼을 넣어줘.

입력부: 하단 텍스트 입력창은 긴 질문을 쓸 수 있게 높이가 자동으로 늘어나야 해. 입력창 좌측에는 문서 업로드를 위한 '클립(첨부파일)' 아이콘을, 위쪽에는 '최우선 변제권 확인', '확정일자 받는 법' 같은 빠른 질문(Quick Reply) 칩들을 가로 스크롤로 나열해 줘.

- 등기부등본 위험성 판단 화면:
UX 흐름: 사용자가 PDF 등기부등본을 업로드하면, 내부적으로 OCR을 거쳐 전세/월세/매매/경매 목적별 위험성을 분석해 주는 대시보드 화면이야.

UI 디테일: 상단에 커다란 점선 박스로 된 'PDF 문서 드래그 앤 드롭(Dropzone)' 영역을 만들어 줘. 파일이 업로드된 후를 가정한 '결과 화면'도 구현해 줘. 결과 영역에는 '위험/주의/안전' 상태를 나타내는 신호등 색상의 뱃지(Badge) 컴포넌트가 있고, 그 아래에 근저당권 설정 금액 등 주요 위험 요소를 시각화한 요약 카드를 배치해 줘.

- 계약서 자동 완성 (특약 템플릿) 화면:
UX 흐름: 사용자가 매물 유형과 요구사항을 선택하면, 현재 조건에 맞는 특약 문구가 실시간으로 조합되어 완성되는 화면이야.

UI 디테일: 화면을 좌우(또는 상하) 2단으로 분할해 줘. 좌측은 매물 조건(전세/월세, 반려동물 유무, 누수 수리 책임 등)을 선택할 수 있는 체크박스와 드롭다운 '입력 폼(Form)' 영역이야. 우측은 선택된 조건에 따라 작성된 '특약 사항 미리보기(Preview)' 문서 영역이며, 하단에 '복사하기' 및 '템플릿 저장' 버튼을 둬서 바로 실무에 쓸 수 있게 해 줘.

- 부동산 뉴스 큐레이션 화면:
UX 흐름: 사용자가 원하는 지역, 조건, 시간을 설정하면 해당 조건에 맞는 알림 메시지와 뉴스 피드를 제공하는 화면이야.

UI 디테일: 최상단에 '관심 지역 설정(예: 강남구)' 및 '알림 수신 시간'을 고르는 필터 바를 배치해 줘. 그 아래에는 수집된 부동산 뉴스의 제목, 3줄 요약, 출처, 등록 시간이 포함된 깔끔한 '뉴스 카드'들이 피드 형태로 세로로 나열되게 만들어 줘.



### 2.2. Stitch Screen 설명
stitch로 생성된 화면은 `/stitch_screens`에 있습니다.
각 스크린 화면에 대한 설명은 다음과 같습니다.
*주의* 향후 react로 전환 된 화면에 수정이 발생한다면, 그에 해당하는 stitch_screens는 stitch mcp를 이용하여 현행화 (갱신) 해야 합니다.

- screen_5_ai_agent_main_dashboard.html
AI 에이전트 메인 대시보드: 서비스 진입 시 가장 먼저 마주하게 될 화면으로, '환영합니다' 메시지와 함께 4가지 핵심 기능을 큰 카드 형태로 배치했습니다. 하단에는 최근 작업 히스토리와 오늘의 주요 법령 소식을 위젯으로 구성하여 즉각적인 가치를 제공합니다.

- screen_6_activity_history_hub.html
활동 기록 및 히스토리 허브: 사용자가 이전에 분석했던 등기부등본이나 저장한 특약 템플릿 등을 모아볼 수 있는 관리 중심의 화면입니다. 작업의 연속성을 보장하여 실무 효율을 높여줍니다.

- screen_4_ai_agent_chatbot.html
법률 챗봇 화면: 실시간 AI 대화 인터페이스로, 우측의 사용자 메시지와 좌측의 AI 메시지가 배치됩니다. 하단에는 '최우선 변제권' 등 자주 묻는 질문 칩과 가변형 입력창, 파일 첨부 기능을 포함하고 있습니다.

- screen_3_risk_diagnosis.html
등기부등본 진단 화면: PDF 파일을 드래그 앤 드롭으로 업로드할 수 있는 대시보드입니다. 분석 후 '위험/주의/안전' 상태를 신호등 색상 뱃지로 보여주며, 근저당권 등 주요 정보를 시각화하여 제공합니다.

- screen_1_contract_terms_auto_complete.html
계약서 자동 완성 화면: 좌측에서 매물 조건(전/월세, 반려동물 등)을 선택하면 우측 프리뷰 영역에 맞춤형 특약 문구가 실시간으로 생성됩니다. 하단의 '복사하기' 버튼으로 즉시 활용이 가능합니다.

- screen_2_news_curation_feed.html
뉴스 큐레이션 화면: 관심 지역(예: 강남구)과 알림 시간을 설정할 수 있는 필터 바가 상단에 배치되며, 하단에는 AI가 3줄 요약한 뉴스 카드들이 피드 형태로 깔끔하게 나열됩니다.


### 2.3. Stitch Screen 이동 플로우
- AI 에이전트 메인 대시보드 화면이 첫 기본 화면이 됩니다. 
- 메인 화면에서 중앙의 카드 섹션 또는 좌측의 메뉴 섹션을 클릭하여 각 콘텐츠 화면으로 이동(전환)합니다.
- 좌측 하단의 사용자 프로필 버튼을 클릭하여 사용자 활동 기록 및 히스토리 허브 화면으로 이동(전환)합니다.

### 3. 라우팅 연결
라우팅 연결:
```
/ (메인 대시보드 - screen_5)
/chatbot (법률 챗봇 - screen_4)
/diagnosis (등기부등본 진단 - screen_3)
/contract (계약서 자동 완성 - screen_1)
/news (뉴스 큐레이션 - screen_2)
/history (활동 히스토리 - screen_6)
```

### 4. CI/CD 
이 프로젝트는 향후 git action(workflow)와 CI 를 argocd를 통해 CD로 k8s에 배포 할 예정입니다. 
그에 따라 페이지에서 호출하는 API를 url을 설정 할 수 있는 구조도 필요해요. 로컬에서 npm run deug 할때는 로컬 파일에서, 그리고 실제 배포된 서비스에서 실행 될 때는 helm chart configmap (필요하면 values.yaml) 구성하는 방안도 고려해주세요
추후 K8s 배포를 고려하여 .env.development, .env.production으로 API URL 설정 완료


### 5. monorepo 구조
본 프로젝트는 하나의 repo 독립적인 backend/frentend를 포함하는 monorepo 구조로 구성되어 있습니다. 
각 폴더는 독립적으로 구성 합니다.

```ascii
smart-house-ai/
├── .github/
│   └── workflows/
│       ├── backend-ci.yml      # backend/ 폴더 변경 시 트리거
│       └── frontend-ci.yml     # frontend/ 폴더 변경 시 트리거
├── backend/                    # FastAPI 프로젝트 루트
│   ├── app/
│   ├── Dockerfile
│   └── requirements.txt        # 백엔드 독립 의존성
├── frontend/                   # React 프로젝트 루트
│   ├── src/
│   ├── public/
│   ├── Dockerfile
│   └── package.json            # 프론트엔드 독립 의존성
└── charts/                     # 개별 Helm Chart 폴더
    ├── backend/                # 백엔드 전용 Helm Chart
    │   ├── Chart.yaml
    │   ├── values.yaml
    │   └── templates/
    │       ├── deployment.yaml
    │       └── service.yaml
    └── frontend/               # 프론트엔드 전용 Helm Chart
        ├── Chart.yaml
        ├── values.yaml
        └── templates/
            ├── deployment.yaml
            └── service.yaml
```